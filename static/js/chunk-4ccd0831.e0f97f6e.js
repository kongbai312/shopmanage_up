(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ccd0831"],{"65fb":function(t,e,n){},"9b2e":function(t,e,n){"use strict";n("a515")},a515:function(t,e,n){},b778:function(t,e,n){"use strict";n("65fb")},feba:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"sku-list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",stripe:"",data:t.skuList}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center","row-key":"id"}}),n("el-table-column",{attrs:{prop:"skuName",label:"名称"}}),n("el-table-column",{attrs:{prop:"skuDesc",label:"描述"}}),n("el-table-column",{attrs:{label:"默认图片",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("div",{staticClass:"info"},[n("div",{staticClass:"pic"},[n("img",{staticStyle:{width:"80px"},attrs:{src:e.skuDefaultImg,alt:"商品图片"}})])])]}}])}),n("el-table-column",{attrs:{prop:"weight",label:"重量(KG)"}}),n("el-table-column",{attrs:{prop:"price",label:"价格(元)",width:"80"}}),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[0==s.isSale?n("HintButton",{attrs:{title:"上架",type:"info",size:"mini",icon:"el-icon-top"},on:{click:function(e){return t.onSale(s.id)}}}):t._e(),1==s.isSale?n("HintButton",{attrs:{title:"下架",type:"success",size:"mini",icon:"el-icon-bottom"},on:{click:function(e){return t.cancelSale(s.id)}}}):t._e(),n("HintButton",{attrs:{title:"修改",type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.toUpdateSku(s.id)}}}),n("HintButton",{attrs:{title:"查看详情",type:"info",size:"mini",icon:"el-icon-info"},on:{click:function(e){return t.showSkuInfo(s.id)}}}),n("el-popconfirm",{attrs:{title:"确定删除 "+s.skuName+" 吗"},on:{onConfirm:function(e){return t.deleteSku(s.id)}}},[n("hint-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete",title:"删除"},slot:"reference"})],1)]}}])})],1),n("el-pagination",{staticStyle:{padding:"20px 0","text-align":"center"},attrs:{"current-page":t.page,total:t.total,"page-size":t.limit,"page-sizes":[5,10,20,30,40,50],layout:"prev, pager, next, jumper, ->, sizes, total"},on:{"current-change":t.getSkuList,"size-change":t.changeSize}}),n("el-drawer",{attrs:{visible:t.isShowSkuInfo,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.isShowSkuInfo=e}}},[n("el-row",[n("el-col",{attrs:{span:5}},[t._v("名称")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuName))])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("描述")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuDesc))])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("价格")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.price)+" 元")])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("平台属性")]),n("el-col",{attrs:{span:18}},t._l(t.skuInfo.skuAttrValueList,(function(e){return n("el-tag",{key:e.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[t._v(" "+t._s(e.attrId+"-"+e.valueId)+" ")])})),1)],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("商品图片")]),n("el-col",{attrs:{span:16}},[n("el-carousel",{staticClass:"sku-carousel",attrs:{trigger:"click",height:"400px"}},t._l(t.skuInfo.skuImageList,(function(t){return n("el-carousel-item",{key:t.id},[n("img",{attrs:{src:t.imgUrl,alt:""}})])})),1)],1)],1)],1)],1)},a=[],i=n("1da1"),r=(n("96cf"),{name:"SkuList",data:function(){return{skuList:[],loading:!1,total:0,page:1,limit:10,skuInfo:{},isShowSkuInfo:!1}},mounted:function(){this.getSkuList()},methods:{toUpdateSku:function(){this.$message.info("正在开发中...")},showSkuInfo:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isShowSkuInfo=!0,n.next=3,e.$API.sku.get(t);case 3:s=n.sent,e.skuInfo=s.data;case 5:case"end":return n.stop()}}),n)})))()},getSkuList:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:1,e.page=s,e.loading=!0,n.next=5,e.$API.sku.getList(e.page,e.limit);case 5:a=n.sent,e.skuList=a.data.records,e.total=a.data.total,e.loading=!1;case 9:case"end":return n.stop()}}),n)})))()},onSale:function(t){var e=this;this.$API.sku.onSale(t).then((function(t){e.$message({type:"success",message:"上架成功!"}),e.getSkuList(e.page)}))},cancelSale:function(t){var e=this;this.$API.sku.cancelSale(t).then((function(t){e.$message({type:"success",message:"下架成功!"}),e.getSkuList(e.page)}))},changeSize:function(t){this.limit=t,this.getSkuList(1)},deleteSku:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$API.sku.remove(t);case 3:e.$message.success("删除SKU成功"),e.getSkuList(1),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$message({message:n.t0.message||"删除SKU失败",type:"error"});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}}),o=r,l=(n("9b2e"),n("b778"),n("2877")),c=Object(l["a"])(o,s,a,!1,null,"24b710c4",null);e["default"]=c.exports}}]);