(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1103edae"],{"51b1":function(e,t,n){"use strict";n("b6cb")},b6cb:function(e,t,n){},fd38:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"900px","margin-bottom":"20px"},attrs:{border:"",data:e.categorys,lazy:"",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":e.getRowKey,"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{prop:"id",label:"分类ID",align:"center",width:"150"}}),n("el-table-column",{attrs:{prop:"name",label:"分类名称",sortable:""}}),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"header",fn:function(e){return[n("el-input",{attrs:{placeholder:"按Enter键添加一级分类"}})]}},{key:"default",fn:function(e){return[n("HintButton",{attrs:{title:"添加子分类",disabled:!e.row.level,size:"mini",type:"primary",icon:"el-icon-plus"}}),n("HintButton",{attrs:{title:"修改分类",size:"mini",type:"primary",icon:"el-icon-edit"}}),n("HintButton",{attrs:{title:"删除分类",size:"mini",type:"danger",icon:"el-icon-delete"}})]}}])})],1)],1)},a=[],i=n("1da1"),o=(n("96cf"),n("159b"),{name:"CategoryList",data:function(){return{categorys:[]}},mounted:function(){this.getCategory1()},methods:{getCategory1:function(){var e=this;this.$API.category.getCategory1().then((function(t){var n=t.data;n.forEach((function(e){e.hasChildren=!0,e.level=1})),e.categorys=n}))},load:function(e,t,n){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.level){t.next=7;break}return t.next=3,r.getCategory2(e);case 3:a=t.sent,n(a),t.next=12;break;case 7:if(2!==e.level){t.next=12;break}return t.next=10,r.getCategory3(e);case 10:i=t.sent,n(i);case 12:case"end":return t.stop()}}),t)})))()},getCategory2:function(e){return this.$API.category.getCategory2(e.id).then((function(t){var n=t.data;return n&&n.length>0?(n.forEach((function(e){e.hasChildren=!0,e.level=2})),n):(e.hasChildren=!1,[])}))},getCategory3:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$API.category.getCategory3(e.id);case 2:if(r=n.sent,a=r.data,!(a&&a.length>0)){n.next=8;break}return n.abrupt("return",a);case 8:return e.hasChildren=!1,n.abrupt("return",[]);case 10:case"end":return n.stop()}}),n)})))()},getRowKey:function(e){return e.level+"-"+e.id},tableRowClassName:function(e){var t=e.row;e.rowIndex;if(2===t.level)return"level2-row"}}}),l=o,c=(n("51b1"),n("2877")),s=Object(c["a"])(l,r,a,!1,null,null,null);t["default"]=s.exports}}]);